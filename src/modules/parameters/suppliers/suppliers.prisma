import { ConsultaExterna } from "../services/medical_assistance/medical_assistance"
model SupplierRelevance {
	id		String	@id @default(cuid())
	address	String	@unique		//	
	phone	String

	supplierId	String
	
	serviceType	Supplier	@relation(fields: [supplierId], references: [id])
}

model SupplierServiceType {
	id		String	@id @default(cuid())
	name	String	@unique		//	Medicamentos,		Medicamentos y Odontologia,			Medicina General,   
	status	Int		@default(1)
	suppliers		Supplier[]
}

model SupplierSpecialtyType {
	id		String	@id @default(cuid())
	name	String	@unique
	status	Int		@default(1)

	supplierServices	SupplierService[]
}


model Supplier {
	id			String	@id @default(cuid())
	code		String	@unique
	nit			String
	description	String

	serviceTypeId	String
	status	Int		@default(1)

	services	SupplierService[]
	relevances	SupplierRelevance[]
	serviceType	SupplierServiceType	@relation(fields: [serviceTypeId], references: [id])
	consultas ConsultaExterna[]
}

model SupplierService {
	supplierId		String		//	Cies			Cies
	specialtyTypeId	String		//	Odontologia		Dermotologia

	name	String	@unique		//  Dr. Perez		Dr. Pereira

	supplier		Supplier				@relation(fields: [supplierId], references: [id])
	SpecialtyType	SupplierSpecialtyType	@relation(fields: [specialtyTypeId], references: [id])

	@@id([supplierId, specialtyTypeId])
}

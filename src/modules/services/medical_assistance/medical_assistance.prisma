import { T_Beneficiario } from "../parameters/beneficiaries/beneficiaries"
import { Supplier } from "../parameters/suppliers/suppliers"

// Este es el modelo de datos para los medicamentos
model Medicamento {
  id        String    @id @default(cuid()) // Este es el campo identificador del medicamento
  codigo    String
  nombre    String // Este es el nombre del medicamento
  cantidad  Int
  unidad    String // Pza, tableta, frazco 
  dosis     String // Esta es la dosis del medicamento
  consultas ConsultaMedica[] // Esta es la relación muchos a muchos con las consultas médicas que recetan este medicamento

}
model ConsultaExterna{
    id String @id @default(cuid())
    descripcion String
    type String
    service String
    specialty String
    date_sol DateTime
    servicioMedicoId  String // Este es el campo que almacena el identificador del servicio médico
    servicioMedico    Supplier @relation(fields: [servicioMedicoId], references: [id]) // Esta es la relación muchos a uno con el servicio médico que se utiliza en la consulta externa
    
    consultas ConsultaMedica[]
}

// Este es el modelo de datos para las consultas médicas
model ConsultaMedica {
  id             String    @id @default(cuid()) // Este es el campo identificador de la consulta médica
  fecha          DateTime // Esta es la fecha de la consulta médica
  hora           DateTime // Esta es la hora de la consulta médica
  valoracion        String
  examen_fisico     String // Este es el tratamiento de la consulta médica
  diagnostico       String // Este es el diagnóstico de la consulta médica
  status            Int		@default(1)
  beneficiarioId      String // Este es el campo que almacena el identificador del paciente
  beneficiario        T_Beneficiario @relation(fields: [beneficiarioId], references: [codigo]) // Esta es la relación muchos a uno con el paciente que se atiende en la consulta médica
  medicamentos        Medicamento[] // Esta es la relación muchos a muchos con los medicamentos que se recetan en la consulta médica
  consultasexternas   ConsultaExterna[]
  incapacidades       Patient_Discharge[]
}

model Patient_Discharge{
id_inter String @id @default(cuid())
date_ini    DateTime
date_fin    DateTime
type        String
status      String
authorization String
date_authorization DateTime
consultas ConsultaMedica[]
}

model Laboral_Inhability{
id_inhability String @id @default(cuid())
description String
}

model LINAME{
  id  String @id @default(cuid())
  codigo String
  descripcion String
  unidad  String
  concentracion String
  clase String
}